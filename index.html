<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19232737-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-19232737-1');
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js" integrity="sha512-EbdJQSugx0nVWrtyK3JdQQ/03mS3Q1UiAhRtErbwl1YL/+e2hZdlIcSURxxh7WXHTzn83sjlh2rysACoJGfb6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>billheil.com</title>

  <!-- via favicon.io -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <!-- Bootstrap icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>

<body>
  <div class="container">
    <div class="jumbotron">
      <div class="row">
        <div class="col-lg-4">
          <img src="bill-heil-headshot.jpg" class="img-responsive">
        </div>
        <div class="col-lg-8">
          <h1>Bill Heil</h1>
          <p class="lead">Comic and tech guy. Based in Berkeley, CA.</p>
            <a href="https://www.instagram.com/billheil/"><i class="bi bi-instagram" style="font-size: 6rem; "></i></a>
            <a href="https://www.facebook.com/billheil"><i class="bi bi-facebook" style="font-size: 6rem; "></i></a>
            <a href="https://www.twitter.com/billheil"><i class="bi bi-twitter" style="font-size: 6rem; "></i></a>
            <a href="https://www.linkedin.com/in/billheil/"><i class="bi bi-linkedin" style="font-size: 6rem; "></i></a>
        </div>
      </div>
    </div><!-- jumbotron -->

    <div class="col">
        <h3>Comedy Shows</h3>
            <table style="width: 90vw; margin: auto;" class="table"> 
                <thead> 
                    <tr id="tableHeader"> 
                    </tr> 
                </thead> 
                <tbody id="tableBody"> 
                </tbody> 
            </table>
    </div><!-- /table -->
  </div><!-- /container -->

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


  <script>
    url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ0N69Gf5EdrfyOFEuUwWjYpKr_DfpwDh-qpx-2xxGx9VKjfGOWrtPJAKNugIANj_abfdc0Zhd833CA/pub?gid=0&single=true&output=csv'

    function isValidHttpUrl(string) {
        let url;  
          try {
            url = new URL(string);
          } catch (_) {
            return false;  
          }
          return url.protocol === "http:" || url.protocol === "https:";
    }

    function createDataElement(htmlTag, innerText, idParent) { 
        let node = document.createElement(htmlTag);

        let textnode;

        if(isValidHttpUrl(innerText)) {
            textnode = document.createElement('a');
            textnode.setAttribute('href',innerText);
            textnode.innerHTML = "Tickets";
        } else {
            textnode = document.createTextNode(innerText);             
        }
        node.appendChild(textnode); 
        document.getElementById(idParent).appendChild(node); 
    }

    function createHeaderElement(columnText) { 
        createDataElement("th", columnText, "tableHeader"); 
    }

    function createCellData(rowIndex, dataIndex, cellText) { 
        if(dataIndex === 0) { 
            let node = document.createElement("tr"); 
            node.setAttribute("id", "row" + rowIndex); 
            document.getElementById("tableBody").appendChild(node);
            createDataElement("td", cellText, "row" + rowIndex);
        } else { 
            createDataElement("td", cellText, "row" + rowIndex); 
        } 
    }


    Papa.parse(url, { 
        download: true,
        complete: function(results) { 
            for(let i = 0; i < results.data.length; i++) { 
                if(i === 0) { 
                    for(let j = 0; j < results.data[i].length; j++) { 
                        createHeaderElement(results.data[i][j]); 
                    } 
                } 
                if(i > 0) { 
                    for(let j = 0; j < results.data[i].length; j++) { 
                        createCellData(i, j, results.data[i][j]); 
                } 
             } 
           } 
        } 
    });
  </script>

</body>
</html>